# TrialSync ETL Configuration

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_HOST=tl-dev01.trialogic.ai
DATABASE_PORT=5432
DATABASE_NAME=trialsync
DATABASE_USER=trialsync
DATABASE_PASSWORD=<your-database-password>

# Database connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_TIMEOUT_SECONDS=30

# =============================================================================
# Clinical Conductor API Configuration
# =============================================================================
CC_API_BASE_URL=https://tektonresearch.clinicalconductor.com/CCSWEB
CC_API_KEY=9ba73e89-0423-47c1-a50c-b78c7034efea

# API request settings
CC_API_TIMEOUT_SECONDS=60
CC_API_MAX_RETRIES=3
CC_API_RETRY_DELAY_SECONDS=5

# =============================================================================
# ETL Settings
# =============================================================================
# Batch size for bulk inserts
ETL_BATCH_SIZE=1000

# Maximum number of retries for failed jobs
ETL_MAX_RETRIES=3

# Delay between retries (seconds)
ETL_RETRY_DELAY_SECONDS=5

# Number of jobs to run in parallel
ETL_PARALLEL_JOBS=5

# Job execution timeout (seconds)
ETL_TIMEOUT_SECONDS=300

# Rate limiting: delay between API requests (seconds)
ETL_REQUEST_DELAY_SECONDS=0.1

# =============================================================================
# Logging Configuration
# =============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/var/log/trialsync/etl.log

# Log format: json or text
LOG_FORMAT=json

# Enable console logging
LOG_CONSOLE=true

# =============================================================================
# Monitoring & Alerting
# =============================================================================
# Enable Prometheus metrics
ENABLE_METRICS=true

# Metrics server port
METRICS_PORT=9090

# Enable email alerts
ENABLE_EMAIL_ALERTS=false
ALERT_EMAIL_TO=admin@trialogic.ai
ALERT_EMAIL_FROM=trialsync-etl@trialogic.ai
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=<your-smtp-user>
SMTP_PASSWORD=<your-smtp-password>

# Enable Slack alerts
ENABLE_SLACK_ALERTS=false
SLACK_WEBHOOK_URL=<your-slack-webhook-url>

# =============================================================================
# Scheduling
# =============================================================================
# Enable job scheduler
ENABLE_SCHEDULER=true

# Scheduler timezone
SCHEDULER_TIMEZONE=America/New_York

# =============================================================================
# Application Settings
# =============================================================================
# Application environment: development, staging, production
APP_ENV=development

# Application name
APP_NAME=TrialSync-ETL

# Application version
APP_VERSION=1.0.0

# =============================================================================
# Feature Flags
# =============================================================================
# Enable incremental loads (vs full refresh)
ENABLE_INCREMENTAL_LOADS=false

# Enable data quality checks
ENABLE_DATA_QUALITY_CHECKS=true

# Enable dry run mode (validate without executing)
ENABLE_DRY_RUN=false

# =============================================================================
# Performance Tuning
# =============================================================================
# Enable database connection pooling
ENABLE_CONNECTION_POOLING=true

# Enable query result caching
ENABLE_QUERY_CACHING=false

# Cache TTL (seconds)
CACHE_TTL_SECONDS=300

# =============================================================================
# Development Settings
# =============================================================================
# Enable debug mode
DEBUG=false

# Enable SQL query logging
LOG_SQL_QUERIES=false

# Enable API request/response logging
LOG_API_REQUESTS=false
